<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="app.css" />
    <title>Rock Paper Scissors</title>
    <script>
      let ans = "";
      let score = {
        wizard: 0,
        student: 0
      };
      const answerGenerator = () => {
        const randNum = Math.floor(Math.random() * 3);
        document.getElementById(`button-answers`).style.display = "flex";
        switch (randNum) {
          case 0:
            ans = "rock";
            break;
          case 1:
            ans = "paper";
            break;
          case 2:
            ans = "scissors";
            break;
        }
        document.getElementById(`ready`).style.display = "none";
        return ans;
      };
      const answerChecker = (ans, type) => {
        const buttons = document.getElementById(`button-answers`).children;
        for (let button of buttons) {
          button.disabled = "disbaled";
        }
        if (ans == type) {
          document.getElementById(`result`).innerHTML =
            "Good job, you out wizarded the wizard";
          score.student += 1;
        } else {
          document.getElementById(`result`).innerHTML = 
            "Bad job, you're the lesser wizard";
          score.wizard += 1;
        }
      };
      const scoreAlert = () => {
        alert("Wizard: " + score.wizard + "\nStudent: " + score.student);
      };
      const reset = () => {
        const buttons = document.getElementById(`button-answers`).children;
        for (let button of buttons) {
          button.disabled = false;
        }
        document.getElementById(`button-answers`).style.display = "none";
        document.getElementById(`ready`).style.display = "block";
        document.getElementById(`result`).innerHTML = "";
      };
    </script>
  </head>

  <body>
    <!-- the enemy -->
    <img src="./assets/Slizard.png" />
    <p>You've been accosted by a wizard, choose wisely!</p>
    <div class="button-box">
    <button id="ready" onclick="answerGenerator()">I'm ready!</button>
    </div>
    <!-- buttons to select your option -->

    <div class="button-box" id="button-answers">
      <button class="button" onclick="answerChecker(ans, 'rock')">ðŸ¤˜</button>
      <button class="button" onclick="answerChecker(ans, 'paper')">âœ‹</button>
      <button class="button" onclick="answerChecker(ans, 'scissors')">
        âœŒ
      </button>
    </div>

    <p id="result"></p>
    <div class="button-box">
      <button onclick="scoreAlert()">What's the score?</button>
      <button onclick="reset()">Play again?</button>
    </div>
  </body>
</html>
